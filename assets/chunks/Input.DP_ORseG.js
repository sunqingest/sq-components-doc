import{p as c,L as F,h as w,q as z,c as n,o as s,e as t,F as V,j as $,r as p,ag as N,am as j,b as f,n as D}from"./framework.BNJxC1MU.js";import{f as R}from"./types.CnMp2cY4.js";import{_ as m}from"./Icon.HHxC7BPt.js";const E={key:0,class:"sq-input__prepend"},K={class:"sq-input__wrapper"},L={key:0,class:"sq-input__prefix"},M=["type","maxlength","minlength","placeholder","readonly"],O={key:1,class:"sq-input__suffix"},U={key:1,class:"sq-input__append"},J=Object.assign({name:"sq-input"},{__name:"Input",props:{modelValue:{type:String,required:!0},type:{type:String,default:"text"},size:{type:String,default:"default"},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},maxlength:{type:[Number,String]},minlength:{type:[Number,String]},placeholder:{type:String},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","input","blur","focus","change","clear"],setup(a,{expose:q,emit:B}){const y=c(null),h=F(R,void 0),o=a,v=w(()=>o.clearable&&!o.disabled&&!!l.value&&r.value),r=c(!1),x=e=>{r.value=!1,u("blur",e),b("blur")},C=e=>{r.value=!0,u("focus",e)},g=w(()=>o.showPassword&&!o.disabled&&!!l.value),i=c(!1),k=()=>{i.value=!i.value},u=B,l=c(o.modelValue);z(()=>o.modelValue,e=>{l.value=e});const S=()=>{l.value="",u("update:modelValue",""),u("clear")},I=()=>{u("update:modelValue",l.value),u("input",l.value),b("change")},b=e=>{h&&h.validate(e).catch(d=>{console.log(d)})};return q({ref:y}),(e,d)=>(s(),n("div",{class:D(["sq-input",{[`sq-input-${a.type}`]:a.type,[`sq-input-${a.size}`]:a.size,"is-disabled":a.disabled,"is-focus":r.value,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append}])},[a.type=="text"?(s(),n(V,{key:0},[e.$slots.prepend?(s(),n("div",E,[p(e.$slots,"prepend")])):t("",!0),$("div",K,[e.$slots.prefix?(s(),n("span",L,[p(e.$slots,"prefix")])):t("",!0),N($("input",{type:a.showPassword?i.value?"text":"password":a.type,"onUpdate:modelValue":d[0]||(d[0]=P=>l.value=P),maxlength:a.maxlength,minlength:a.minlength,placeholder:a.placeholder,readonly:a.readonly,onInput:I,class:"sq-input__inner",onBlur:x,onFocus:C,ref_key:"inputRef",ref:y},null,40,M),[[j,l.value]]),e.$slots.suffix||v.value||g.value?(s(),n("span",O,[p(e.$slots,"suffix"),v.value?(s(),f(m,{key:0,icon:"fa-solid fa-circle-xmark",onClick:S})):t("",!0),g.value?(s(),n(V,{key:1},[i.value?(s(),f(m,{key:0,icon:"fa-solid fa-eye",onClick:k})):t("",!0),i.value?t("",!0):(s(),f(m,{key:1,icon:"fa-solid fa-eye-slash",onClick:k}))],64)):t("",!0)])):t("",!0)]),e.$slots.append?(s(),n("div",U,[p(e.$slots,"append")])):t("",!0)],64)):t("",!0)],2))}});export{J as _};
